version: Compose specification

services:
    ldap:
        image: osixia/openldap
        ports:
            - "389:389"
            - "636:636"
        restart: always
        environment:
            - LDAP_ADMIN_PASSWORD=secret
        volumes:
            - /opt/gerrit/ldap/var:/var/lib/ldap
            - /opt/gerrit/ldap/etc:/etc/ldap/slapd.d
        networks:
            - traefik-net

    ldapadmin:
        image: osixia/phpldapadmin
        ports:
            - "6443:443"
        restart: always
        environment:
            - PHPLDAPADMIN_LDAP_HOSTS=ldap
        networks:
            - traefik-net

networks:
    traefik-net:
        external: true
